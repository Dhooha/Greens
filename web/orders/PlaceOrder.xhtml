<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/template/siteTemplate.xhtml">

        <ui:define name="title">
            <h:outputText value="#{bundle.PlaceOrder}"></h:outputText>
        </ui:define>
        <ui:define name="editableContent">

            <h:form id="PlaceOrderForm">
                <div align="center" style="width:90%;text-align: center;margin: 0 auto">
                    <table>
                        <tr>
                            <td width="65%" valign="top" >
                                <div style="width:100%; height: 100%" align="center">
                                    <h1 >#{bundle.PlaceOrderTitle}</h1>     



                                    <p:panelGrid columns="2"
                                                 class="panelGridNoBorderCart"
                                                 columnClasses="panelGridColumn1, panelGridColumn2">
                                        <p:outputLabel value="#{bundle.CreateOrdersLabel_orderType}" for="orderType" />
                                        <!--
                                        The required="true" attribute automatically places an asterisk *
                                        at the end of the value to indicate that the field is required.  
                                        -->
                                        <p:selectOneRadio id="orderType" value="#{orderManager.orderType}"  layout="grid" columns="1" required="true" 
                                                          requiredMessage="#{CreateOrdersRequiredMessage_orderType}">
                                            <f:selectItem itemLabel="#{bundle.CreateOrdersLabel_orderType_Type1}" itemValue="DINE_IN" />
                                            <f:selectItem itemLabel="#{bundle.CreateOrdersLabel_orderType_Type2}" itemValue="CARRY_OUT" />
                                            <f:selectItem itemLabel="#{bundle.CreateOrdersLabel_orderType_Type3}" itemValue="DELIVERY" />
                                            <p:ajax process="orderType" update="@form" />
                                        </p:selectOneRadio>

                                      

                                            <p:outputLabel value="#{bundle.CreateOrdersLabel_orderTimePickUp}" for="pickUpTime" />                   
                                            <p:calendar id="pickUpTime" pattern="MM/dd/yyyy"  
                                                        required="true" requiredMessage="#{bundle.CreateOrdersRequiredMessage_orderTimePickUp}"/>

                                            <!--
                                            ********************************
                                            *        ADDRESS LINE 1        *
                                            ********************************a
                                            -->  
                                            
                                            
                                            <p:outputLabel value="#{bundle.CreateUserLabel_deliveryAddress1}"
                                                           for="address1"
                                                           rendered="#{orderManager.orderType eq 'DELIVERY'}"/>
                                            <p:inputText id="address1"
                                                         value="#{userController.selected.deliveryAddress1}"
                                                         required="true"
                                                         class="inputTextField"
                                                         requiredMessage="#{bundle.CreateUserRequiredMessage_deliveryAddress1}"
                                                         rendered="#{orderManager.orderType eq 'DELIVERY'}">
                                                <f:validateLength minimum="2" />
                                            </p:inputText>

                                            <!--
                                            ********************************
                                            *        ADDRESS LINE 2        *
                                            ********************************
                                            -->
                                            <p:outputLabel value="#{bundle.CreateUserLabel_deliveryAddress2}" 
                                                           for="address2"
                                                           rendered="#{orderManager.orderType eq 'DELIVERY'}"/>
                                            <p:inputText id="address2"
                                                         value="#{userController.selected.deliveryAddress2}"
                                                         class="inputTextField"
                                                         rendered="#{orderManager.orderType eq 'DELIVERY'}">
                                            </p:inputText>

                                            <!--
                                            ********************************
                                            *             CITY             *
                                            ********************************
                                            -->
                                           
                                            <p:outputLabel value="#{bundle.CreateUserLabel_deliveryCity}"
                                                           for="city"
                                                           rendered="#{orderManager.orderType eq 'DELIVERY'}"/>
                                            <p:inputText id="city" value="#{userController.selected.deliveryCity}" required="true" class="inputTextField"
                                                         requiredMessage="#{bundle.CreateUserRequiredMessage_deliveryCity}"
                                                         rendered="#{orderManager.orderType eq 'DELIVERY'}">
                                                <f:validateLength minimum="2" />
                                            </p:inputText>

                                            <!--
                                            ********************************
                                            *      STATE ABBREVIATION      *
                                            ********************************
                                            -->
                                            <p:outputLabel value="#{bundle.CreateUserLabel_deliveryState}" for="state"
                                                           rendered="#{orderManager.orderType eq 'DELIVERY'}" />
                                            <h:selectOneMenu id="state" value="#{userController.selected.deliveryState}" required="true"
                                                             rendered="#{orderManager.orderType eq 'DELIVERY'}">
                                                <!--
                                                List of U.S. state postal codes is iterated over 
                                                to display the list for the user to select one.
                                                -->
                                                <f:selectItems value="#{userController.listOfStates()}" var="state"
                                                               itemLabel="#{state}" itemValue="#{state}"
                                                               />
                                            </h:selectOneMenu>

                                            <!--
                                            ********************************
                                            *           ZIP CODE           *
                                            ********************************
                                            -->
                                            <p:outputLabel id="zipcodeEntry" value="#{bundle.CreateUserLabel_deliveryZipcode}" for="zipcode"
                                                           rendered="#{orderManager.orderType eq 'DELIVERY'}">
                                                &nbsp;<i class="fas fa-question-circle" />
                                                <!--
                                                When the user mouses over the icon, a tooltip is displayed
                                                to provide context-sensitive help information to the user.
                                                -->
                                                <p:tooltip for="zipcodeEntry" value="Enter 5 digits or 9 digits with hyphen, e.g., 24060-1804" 
                                                           showEffect="clip" hideEffect="explode" position="top" rendered="#{orderManager.orderType eq 'DELIVERY'}" />
                                            </p:outputLabel> 

                                            <p:inputText id="zipcode" value="#{userController.selected.deliveryZipcode}" required="true" class="inputTextField"
                                                         requiredMessage="#{bundle.CreateUserRequiredMessage_deliveryZipcode}"
                                                         rendered="#{orderManager.orderType eq 'DELIVERY'}">
                                                <f:validateLength minimum="5" />
                                                <!-- 
                                                Execute the "validate" method in the "ZipCodeValidator.java" 
                                                class file to validate the ZIP code entered. 
                                                -->
                                                <f:validator validatorId="zipCodeValidator"/> 
                                            </p:inputText>

                                            <p:outputLabel value="PAYMENT METHOD"/>
                                            <p:inputText value="coming soon" class="inputTextField"/>
                                           
                                            
                                            <p:selectBooleanCheckbox id="notification" value="#{orderManager.notification}">
                                                <p:ajax process="notification" update="@form" />
                                            </p:selectBooleanCheckbox>
                                            <p:outputLabel value="#{bundle.CreateOrdersLabel_notification}" for="notification" />
                                            
                                            <p:outputLabel value="#{bundle.EditUserLabel_phoneCarrier}" for="phoneCarrier" rendered="#{orderManager.notification}"/>
                                            <p:selectOneMenu id="phoneCarrier" value="#{userController.selected.phoneCarrier}"
                                                             class="standardText" rendered="#{orderManager.notification}"
                                                             required="true"  requiredMessage="#{bundle.CreateOrdersResuiredMessage_phoneCarrier}">

                                                <f:selectItem itemLabel="Select a Carrier"  itemValue="" noSelectionOption="true"/>
                                                <f:selectItem itemLabel="AT&amp;T"          itemValue="mms.att.net" />
                                                <f:selectItem itemLabel="Sprint"            itemValue="pm.sprint.com" />
                                                <f:selectItem itemLabel="T-Mobile"          itemValue="tmomail.net" />
                                                <f:selectItem itemLabel="Verizon"           itemValue="vzwpix.com" />
                                                <f:selectItem itemLabel="Virgin Mobile"     itemValue="vmpix.com" />

                                            </p:selectOneMenu>
                                            
                                            <p:outputLabel value="#{bundle.EditUserLable_phonenumber}" for="phone" rendered="#{orderManager.notification}"/>
                                            <p:inputText id="phone" value="#{userController.selected.phoneNumber}" class="inputTextField" rendered="#{orderManager.notification}"
                                                         required="true" requiredMessage="#{bundle.CreateOrdersRequiredMessage_phoneNumber}">
                                                <f:validateLength minimum="10" />
                                            </p:inputText>

                                    </p:panelGrid>
                                    <br /><br/> <br/>
                                    <!--
                                 ================================
                                 |          Place Button         |
                                 ================================
                                    -->
                                    <p:commandButton id="submit" value="#{bundle.PlaceOrder}" action="#{orderManager.placeOrder()}" 
                                                     ajax="false" icon="fab fa-first-order" />
                                    &nbsp;
                                    <!--
                                    ================================
                                    |         CANCEL Button        |
                                    ================================
                                    -->
                                    <p:button outcome="/cart/CartList" value="#{bundle.Cancel}" icon="fas fa-ban"  />
                                </div>
                            </td>
                            <td align="2%">

                            </td>
                            <td  valign="top" width="33%">


                                <div align="center" style="width:100%">

                                    <h1 >#{bundle.ListCartTitle}</h1>    
                                    <p:dataGrid value="#{cartController.cartItems}"
                                                var="cartItem"
                                                columns="1"
                                                rows="3"
                                                layout="grid"
                                                paginator="true"
                                                styleClass="custromDataGridFooter"
                                                >

                                        <p:panelGrid columns="3" class="panelGridNoBorderCart" columnClasses="panelGridColumnMenu1Cart, panelGridColumnMenu2, panelGridColumnMenu2">

                                            <h:panelGroup>
                                                <h:outputText style="font-weight: bold;font-size: 16px; color: #4d0000" value="#{cartItem.menuItem.name}"></h:outputText> 
                                            </h:panelGroup>

                                            <h:outputText style="font-weight: bold;font-size: 16px; color: #4d0000" value="#{bundle.MenuItemQty}"/>
                                            <h:outputText style="font-weight: bold;font-size: 16px; color: #4d0000" value="#{bundle.MenuItemPrice}"/>

                                            <h:outputText style="padding-left: 10px;color: brown" value="#{cartItem.menuItem.description}"/>
                                            <h:outputText style="padding-left: 10px;color: brown" value="#{cartItem.qty}"/>

                                            <h:outputText style="color: brown; font-size:14px" value="#{cartItem.menuItem.price}"/>

                                            <p:repeat value="#{cartItem.menuItem.specialInstructionItems}" var="specialInstruction">
                                                <h:outputText style="color:brown; padding-left: 20px;C"  value="- #{specialInstruction}"/>
                                                <br/>

                                            </p:repeat> 
                                            <h:outputText value=""/>
                                            <h:outputText value=""/>

                                        </p:panelGrid>

                                    </p:dataGrid>
                                </div>
                            </td>
                        </tr>
                    </table>  
                    <br/>
                </div>
            </h:form>
        </ui:define>
    </ui:composition>

</html>
